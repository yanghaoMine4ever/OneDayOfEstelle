require=function t(e,i,n){function s(c,h){if(!i[c]){if(!e[c]){var a="function"==typeof require&&require;if(!h&&a)return a(c,!0);if(o)return o(c,!0);var r=new Error("Cannot find module '"+c+"'");throw r.code="MODULE_NOT_FOUND",r}var d=i[c]={exports:{}};e[c][0].call(d.exports,function(t){var i=e[c][1][t];return s(i||t)},d,d.exports,t,e,i,n)}return i[c].exports}for(var o="function"==typeof require&&require,c=0;c<n.length;c++)s(n[c]);return s}({apple:[function(t,e,i){"use strict";cc._RF.push(e,"60a02wVyqhELKPZawSpI0Pf","apple"),cc.Class({extends:cc.Component,properties:{downSpeed:0},onLoad:function(){this.body=this.node.getComponent(cc.RigidBody),this.body.enabledContactListener=!0,this.game=cc.find("Canvas").getComponent("game"),this.hero=cc.find("Canvas/hero"),this.node.name.indexOf("Hide")>-1&&(this.node.opacity=0,this.isHide=!0)},onBeginContact:function(t,e,i){this.isHide||(this.node.destroy(),this.node.name.endsWith("Score")||"hero"!=i.node.name?this.node.name.endsWith("Score")&&this.hero.getComponent("hero").life++:this.game.gameOver())},onEndContact:function(t,e,i){},onPreSolve:function(t,e,i){},onPostSolve:function(t,e,i){},update:function(t){if(Math.abs(this.node.x-this.hero.x)<20){var e=this.body.linearVelocity;this.node.name.indexOf("Down")>-1&&this.node.y>this.hero.y?e.y=-this.downSpeed:this.node.name.indexOf("Up")>-1&&this.node.y<this.hero.y&&(e.y=this.downSpeed),this.node.name.indexOf("Hide")>-1&&this.node.y-this.hero.y>2*this.hero.height&&(this.node.opacity=255,this.isHide=!1),this.body.linearVelocity=e}(this.node.y<-400||this.node.y>2e3)&&this.node.destroy()}}),cc._RF.pop()},{}],boss:[function(t,e,i){"use strict";cc._RF.push(e,"cc704GwkhlGe5YY+3wZXGiQ","boss"),cc.Class({extends:cc.Component,properties:{fire_1:{type:cc.Prefab,default:null},fire_2:{type:cc.Prefab,default:null},fire_3:{type:cc.Prefab,default:null}},onLoad:function(){this.anim=this.node.getComponent(cc.Animation),this.body=this.node.getComponent(cc.RigidBody),this.body.enabledContactListener=!0,this.game=cc.find("Canvas").getComponent("game"),this.stoneArea=cc.find("Canvas/map/enemy/shitou").getComponent("stoneArea"),this.hero=cc.find("Canvas/hero"),this.life=6,this.isAlwaysAttack=!0,this.setAlwaysAttack()},onBeginContact:function(t,e,i){i.node.name.indexOf("stone")>-1?this.hurt():this.game.gameOver()},hurt:function(){0==--this.life?this.die():4==this.life&&(this.node.color=cc.Color.RED,this.jumpAttack());var t=cc.blink(.5,10);this.node.runAction(t)},die:function(){this.stopAlwaysAttack(),this.node.color=cc.Color.BLACK;var t=cc.fadeOut(3),e=cc.moveBy(2,0,50),i=cc.moveBy(1,0,-300),n=cc.sequence(e,i,cc.callFunc(function(){this.stoneArea.isFollow=!1,cc.find("Canvas/camera").getComponent("camera").unlock(),cc.find("Canvas/camera").getComponent("camera").unLockY(),cc.find("Canvas/physical/static/boss_static").active=!1,cc.find("Canvas/map/stairs").active=!0,this.hero.getComponent("hero").canAttack=!0,this.hero.getComponent("hero").tips("Press Z",3),this.node.destroy()},this)),s=cc.spawn(t,n);this.node.runAction(s)},attack_1:function(){var t=cc.instantiate(this.fire_1);t.parent=this.node.parent,t.setPosition(this.node.x-this.node.width/2,this.node.y),this.anim.play("boss")},setAlwaysAttack:function(){this.isAlwaysAttack&&this.schedule(function(){this.attack_1()},3)},jumpAttack:function(){this.schedule(function(){this.node.x>this.hero.x?this.node.scaleX=2:this.node.scaleX=-2;var t=cc.jumpTo(2,this.hero.x,this.node.y,400,1);this.node.runAction(cc.sequence(t,cc.callFunc(function(){this.node.x>this.hero.x?this.node.scaleX=2:this.node.scaleX=-2},this)))},3)},stopAlwaysAttack:function(){this.isAlwaysAttack=!1},update:function(t){this.node.x-this.hero.x<400&&this.stoneArea.followAttack()}}),cc._RF.pop()},{}],camera:[function(t,e,i){"use strict";cc._RF.push(e,"4f6c1FK2HFGUbPiCbBMRIFs","camera"),cc.Class({extends:cc.Component,properties:{target:{type:cc.Node,default:null}},onLoad:function(){this.camera=this.getComponent(cc.Camera),this.isFollow=!0,this.followY=!1,this.target.x<0||this.target.x>3610||(this.target.y>0&&(this.node.y=this.target.y),this.node.x=this.target.x)},onEnable:function(){cc.director.getPhysicsManager().attachDebugDrawToCamera(this.camera)},onDisable:function(){cc.director.getPhysicsManager().detachDebugDrawFromCamera(this.camera)},lock:function(){this.isFollow=!1},unLockY:function(){this.followY=!0},unlock:function(){this.isFollow=!0},lateUpdate:function(t){this.isFollow&&(this.target.x<0||this.target.x>3610||(this.node.x=this.target.x),this.target.y<0||this.followY&&(this.node.y=this.target.y))}}),cc._RF.pop()},{}],ci:[function(t,e,i){"use strict";cc._RF.push(e,"eab6a6U/K9MzYMGjgqKuEWG","ci"),cc.Class({extends:cc.Component,properties:{speedY:0},onLoad:function(){this.body=this.node.getComponent(cc.RigidBody),this.body.enabledContactListener=!0,this.game=cc.find("Canvas").getComponent("game"),this.hero=cc.find("Canvas/hero"),(this.node.name.indexOf("down")>-1||this.node.name.indexOf("left")>-1)&&(this.lx=this.node.x-this.node.width/2,this.rx=this.node.x+this.node.width/2,this.node.opacity=0)},onBeginContact:function(t,e,i){"hero"==i.node.name&&this.game.gameOver()},update:function(t){if(this.node.name.indexOf("down")>-1&&this.node.y>this.hero.y&&this.lx<this.hero.x&&this.hero.x<this.rx){this.node.opacity=255;var e=this.body.linearVelocity;e.x=0,e.y=-this.speedY,this.body.linearVelocity=e}if(this.node.name.indexOf("left")>-1&&Math.abs(this.node.y-this.hero.y)<100&&this.hero.x-this.node.x<=100){this.node.opacity=255;var i=this.body.linearVelocity;i.x=-160,i.y=0,this.body.linearVelocity=i}(this.node.y<-400||this.node.x<-0)&&this.node.destroy()}}),cc._RF.pop()},{}],fire:[function(t,e,i){"use strict";cc._RF.push(e,"330b7tuEytCtZXDfUm/dSos","fire"),cc.Class({extends:cc.Component,properties:{_speed:400},onLoad:function(){this.game=cc.find("Canvas").getComponent("game"),this.body=this.node.getComponent(cc.RigidBody),this.body.enabledContactListener=!0,this.hero=cc.find("Canvas/hero"),this.isFollow=!0;var t=this.hero.x,e=this.hero.y,i=this.node.x,n=this.node.y,s=this.body.linearVelocity,o=t<=i?-1:1,c=e>=n?1:-1;if(this.distance=0,this.node.name.indexOf("1")>-1){var h=Math.atan(Math.abs(e-n)/Math.abs(t-i));s.x=o*this._speed*Math.cos(h),s.y=c*this._speed*Math.sin(h)}else{this.direct=this.hero.getComponent("hero").face;var a=cc.rotateBy(.5,360);this.node.runAction(cc.repeatForever(a))}},onBeginContact:function(t,e,i){this.node.name.indexOf("1")>-1&&i.node.name.indexOf("hero")>-1&&(this.node.destroy(),this.game.gameOver()),this.node.name.indexOf("hero")>-1&&i.node.name.indexOf("hero")>-1||this.node.destroy()},update:function(t){this.node.name.indexOf("1")>-1?this.bossAttack():this.heroAttack(t)},heroAttack:function(t){this.hero.x,this.hero.y;var e=this.body.linearVelocity;e.x=2*this._speed*this.direct,e.y=0,this.distance+=this._speed*t,this.distance>=600&&this.node.destroy(),this.body.linearVelocity=e},bossAttack:function(){var t=this.hero.x,e=this.hero.y,i=this.node.x,n=this.node.y,s=this.body.linearVelocity,o=t<=i?-1:1,c=e>=n?1:-1;if((i<-960||n>960||i>5e3||n<-960)&&this.node.destroy(),this.node.name.indexOf("1")>-1)if(this.isFollow&&(t-i)*(t-i)+(e-n)>=6400){var h=Math.atan(Math.abs(e-n)/Math.abs(t-i));s.x=o*this._speed*Math.cos(h),s.y=c*this._speed*Math.sin(h)}else this.isFollow=!1;this.body.linearVelocity=s},setSpeed:function(){}}),cc._RF.pop()},{}],game:[function(t,e,i){"use strict";cc._RF.push(e,"208fahg65hGBaCEiYHbIwL8","game"),cc.director.getPhysicsManager().enabled=!0,cc.Class({extends:cc.Component,properties:{},gameOver:function(){this.hero.isInvincible||(this.hero.life>1?(this.hero.life--,this.hero.invincible()):this.hero.goDie())},success:function(){this.hero.enabled=!1,cc.find("Info").active=!0},setInputControl:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(t){var e=t.keyCode;if(37!=e&&38!=e&&39!=e&&40!=e){var i=0;0!=this.lastTime&&(i=this.now-this.lastTime),i>2&&(this.miji.length=0),this.miji.push(t.keyCode),this.lastTime=this.now,this.checkMiji()}},this)},checkMiji:function(){this.miji.toString()==this.life99.toString()&&(cc.log("life become 99"),this.hero.life+=99,cc.find("Canvas/hero/tips").active=!0,cc.find("Canvas/hero/tips").getComponent(cc.Label).string="Thanks!666",this.scheduleOnce(function(){cc.find("Canvas/hero/tips").active=!1},1.5))},onLoad:function(){this.lastTime=0,this.now=0,this.schedule(function(){this.now++},1),this.miji=[],this.life99=[cc.KEY.y,cc.KEY.a,cc.KEY.n,cc.KEY.g,cc.KEY.h,cc.KEY.a,cc.KEY.o,cc.KEY.n,cc.KEY.i,cc.KEY.u,cc.KEY.b,cc.KEY.i],this.hero=cc.find("Canvas/hero").getComponent("hero"),this.setInputControl()}}),cc._RF.pop()},{}],hero:[function(t,e,i){"use strict";cc._RF.push(e,"feea4bVGpxFJbOxi7jds1LK","hero");cc.Class({extends:cc.Component,properties:{speedX:0,speedY:0,speedStair:0,fire:{type:cc.Prefab,default:null},hero:{type:cc.Node,default:null}},onLoad:function(){this.anim=this.hero.getComponent(cc.Animation),this.body=this.hero.getComponent(cc.RigidBody),this.body.enabledContactListener=!0,this.gravity=this.body.gravityScale,this.face=1,this.direct=0,this.stairDirect=0,this.isJump=!1,this.isUpPress=!1,this.jumpCount=0,this.jumpByOther=!1,this.jumpBySelf=!0,this.speedXByOther=0,this.life=2,this.isInvincible=!1,this.isOnStair=!1,this.readyStair=!1,this.canAttack=!1,this.setInputControl()},setInputControl:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(t){if(this.enabled)switch(t.keyCode){case cc.KEY.a:cc.log("x: "+this.node.x+" y: "+this.node.y);break;case 37:this.goLeft();break;case 38:this.readyStair?this.upStair():this.jump();break;case 39:this.goRight();break;case 40:this.readyStair&&this.downStair();break;case cc.KEY.z:this.attack()}}.bind(this)),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(t){if(this.enabled)switch(t.keyCode){case 37:1!=this.direct&&(this.direct=0,this.anim.play("stopL"));break;case 38:this.isUpPress=!1,-1!=this.stairDirect&&(this.stairDirect=0);break;case 39:-1!=this.direct&&(this.direct=0,this.anim.play("stopR"));break;case 40:1!=this.stairDirect&&(this.stairDirect=0);break;case cc.KEY.a:}}.bind(this))},jump:function(){this.isUpPress||(this.isUpPress=!0,this.isJump=!0)},goLeft:function(){this.direct=-1,this.face=-1,this.anim.currentClip&&"left"==this.anim.currentClip.name||this.anim.play("left")},goRight:function(){this.direct=1,this.face=1,this.anim.currentClip&&"right"==this.anim.currentClip.name||this.anim.play("right")},canJump:function(t){return this.jumpByOther||0==t},upStair:function(){this.isOnStair=!0,this.stairDirect=1},downStair:function(){this.isOnStair=!0,this.stairDirect=-1},invincible:function(){this.isInvincible=!0;var t=cc.blink(1.5,10);this.node.runAction(t),this.scheduleOnce(function(){this.isInvincible=!1},1.5)},goDie:function(){this.body.destroy(),this.enabled=!1,this.anim.play("die");var t=cc.moveBy(1,0,60),e=cc.moveTo(.5,this.node.x,-600);this.node.runAction(cc.sequence(t,e,cc.callFunc(function(){this.node.destroy(),cc.director.loadScene("level01")},this)))},attack:function(){if(this.canAttack){var t=cc.instantiate(this.fire);t.x=this.node.x+this.face*this.node.width/2,t.y=this.node.y,t.parent=cc.find("Canvas/map")}},tips:function(t,e){cc.find("Canvas/hero/tips").active=!0,cc.find("Canvas/hero/tips").getComponent(cc.Label).string=t,this.scheduleOnce(function(){cc.find("Canvas/hero/tips").active=!1},e)},update:function(t){this.node.y<-350&&this.goDie();var e=this.body.linearVelocity;e.x=this.direct*this.speedX+this.speedXByOther,this.jumpBySelf&&this.canJump(e.y)&&(this.jumpCount=0,0==this.direct&&(-1==this.face?this.anim.play("stopL"):this.anim.play("stopR"))),this.jumpBySelf=!0,this.jumpCount<=1&&this.isJump&&(this.jumpCount++,e.y=this.speedY,this.jumpBySelf=!1),this.jumpByOther=!1,this.isJump=!1,this.readyStair&&this.isOnStair?(e.y=this.speedStair*this.stairDirect,this.body.gravityScale=0):this.body.gravityScale=this.gravity,this.body.linearVelocity=e},onBeginContact:function(t,e,i){"qizi"==i.node.name&&cc.find("Canvas").getComponent("game").success()},onEndContact:function(t,e,i){},onPreSolve:function(t,e,i){}}),cc._RF.pop()},{}],info:[function(t,e,i){"use strict";cc._RF.push(e,"ada62hsaYRDs5lpn4Ttqzej","info"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.restart=cc.find("Info/restart"),this.exit=cc.find("Info/exit"),this.restart.on(cc.Node.EventType.MOUSE_DOWN,function(){cc.director.loadScene("level01")},this),this.exit.on(cc.Node.EventType.MOUSE_DOWN,function(){cc.game.end()},this)}}),cc._RF.pop()},{}],"one-side-platform":[function(t,e,i){"use strict";cc._RF.push(e,"dc50bA4J5BJwr+WFrpBRScS","one-side-platform"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.body=this.node.getComponent(cc.RigidBody),this.body.enabledContactListener=!0},onBeginContact:function(t,e,i){i.node.y-i.node.height/2>this.node.y&&(t.disabled=!0)}}),cc._RF.pop()},{}],platform:[function(t,e,i){"use strict";cc._RF.push(e,"1a64bhybA9I2oppmyhPk2BR","platform"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.body=this.node.getComponent(cc.RigidBody),this.body.enabledContactListener=!0,this.node.name.indexOf("H")>-1?this.h():this.v()},h:function(){var t=cc.moveBy(2,-400,0),e=cc.moveBy(1,0,0),i=cc.moveBy(2,400,0);this.node.runAction(cc.repeatForever(cc.sequence(t,e,i)))},v:function(){var t=cc.moveBy(1.5,0,270),e=cc.moveBy(.5,0,0),i=cc.moveBy(1.5,0,-270);this.node.runAction(cc.repeatForever(cc.sequence(t,e,i)))},onBeginContact:function(t,e,i){},onPreSolve:function(t,e,i){if("hero"==i.node.name){if(i.node.getPositionY()>this.node.getPositionY()){var n=this.node.width,s=this.node.x-n/2,o=i.node.x+n/2;s<i.node.x&&i.node.x<o&&(i.node.getComponent("hero").jumpByOther=!0)}if(this.node.name.indexOf("H")>-1){var c=this.body.linearVelocity.x;i.node.getComponent("hero").direct*c<0&&(c=0),i.node.getComponent("hero").speedXByOther=c}}},onEndContact:function(t,e,i){"hero"==i.node.name&&(i.node.getComponent("hero").speedXByOther=0)},update:function(t){}}),cc._RF.pop()},{}],stair:[function(t,e,i){"use strict";cc._RF.push(e,"7bfa79m71ZBwJnthj3MFQgM","stair"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.height=this.node.height,this.node.height=0,this.canClime=!1,this.schedule(this.callback,.005),this.hero=cc.find("Canvas/hero"),this.h2x=this.hero.width/2,this.h2y=this.hero.height/2},callback:function(){this.node.height+=2,this.node.height==this.height&&(this.uy=this.node.y+this.node.height/2,this.dy=this.node.y-this.node.height/2,this.lx=this.node.x-this.node.width/2,this.rx=this.node.x+this.node.width/2,this.canClime=!0,cc.find("Canvas/camera").getComponent("camera").unLockY(),cc.find("Canvas/camera").getComponent("camera").unlock(),this.unschedule(this.callback))},update:function(t){this.lx<this.hero.x-this.h2x&&this.rx>this.hero.x+this.h2x&&this.uy>this.hero.y-this.h2y&&this.dy<this.hero.y+this.h2y?this.canClime&&(this.hero.getComponent("hero").readyStair=!0):(this.hero.getComponent("hero").readyStair=!1,this.hero.getComponent("hero").isOnStair=!1)}}),cc._RF.pop()},{}],stoneArea:[function(t,e,i){"use strict";cc._RF.push(e,"7041a5cBJtLCaJujXtoCN6P","stoneArea"),cc.Class({extends:cc.Component,properties:{stone1:{type:cc.Prefab,default:null},stone2:{type:cc.Prefab,default:null},apple:{type:cc.Prefab,default:null}},onLoad:function(){this.hero=cc.find("Canvas/hero"),this.camera=cc.find("Canvas/camera"),this.boss=cc.find("Canvas/map/enemy/boss"),this.hasStart=!1,this.isFollow=!1,this.shuang=!1},startAttack:function(){if(!this.hasStart){this.hasStart=!0;this.schedule(function t(){var e=parseInt(2*Math.random()),i=cc.instantiate(0==e?this.stone1:this.stone2);i.x=0==parseInt(2*Math.random())?480*Math.random():480*-Math.random(),i.y=0,i.parent=this.node,this.hero.x-this.node.x>480&&this.unschedule(t)},.08)}},followAttack:function(){if(!this.isFollow){this.isFollow=!0,this.camera.getComponent("camera").lock(),cc.find("Canvas/physical/static/boss_static").active=!0;this.schedule(function t(){this.isFollow||this.unschedule(t);var e=parseInt(2*Math.random()),i=cc.instantiate(0==e?this.stone1:this.stone2);i.gravityScale=5,i.x=-this.node.x+this.hero.x,i.y=0,i.parent=this.node},1)}},appearSth:function(){if(!this.shuang){for(var t=this.hero.x-780,e=0;e<20;e++){var i=cc.instantiate(this.apple);i.getComponent(cc.RigidBody).gravityScale=0,i.x=t,t-=80+30*Math.random(),i.y=744+100*Math.random(),i.parent=this.node.parent}this.shuang=!0}},update:function(t){Math.abs(this.node.x-this.hero.x)<480&&this.startAttack(),this.node.y<this.hero.y&&this.node.x-this.hero.y>-300&&this.appearSth()}}),cc._RF.pop()},{}],stone:[function(t,e,i){"use strict";cc._RF.push(e,"22fbdegBLJJjJCUx5RmfQZu","stone"),cc.Class({extends:cc.Component,properties:{particle:cc.Prefab},onLoad:function(){this.body=this.node.getComponent(cc.RigidBody),this.body.enabledContactListener=!0,this.game=cc.find("Canvas").getComponent("game"),this.sprite=this.getComponent(cc.Sprite)},onBeginContact:function(t,e,i){var n=cc.instantiate(this.particle);n.setPosition(this.node.x,this.node.y-this.node.height/2),n.parent=this.node.parent,"hero"==i.node.name&&this.game.gameOver(),this.node.destroy()}}),cc._RF.pop()},{}]},{},["apple","boss","camera","ci","fire","game","hero","info","one-side-platform","platform","stair","stone","stoneArea"]);